<html>
<head>
    <link rel="stylesheet" href="/src/sketching/plugins/backgrounds.css">
    <!-- Utilities -->

    <!-- Srl library -->
    <link rel="import" href="/src/sketching/srl/srlLibraryInclude.html">

    <link rel="import" href="/src/sketching/input/inputInclude.html">

    <link rel="import" href="/src/sketching/srl/handlers/GraphicsInclude.html">

    <!-- Jquery library -->
    <link rel="import" href="/src/utilities/libraries/jquery/jqueryInclude.html">

    <!-- input -->
    <link rel="import" href="/src/utilities/libraries/touchy/touchyInclude.html">

    <!-- sketch surface -->
    <link id="sketchSurfaceImport" rel="import"
        href="/src/sketching/sketchSurface.html">

    <!-- Sketch Storage -->
    <link rel="import"
        href="/src/sketching/storage/sketchStorageInclude.html">

    <meta charset="UTF-8">
<script>
    (function(importDoc) {
        $(document).ready(function() {
            require('SketchSurface', function (SketchSurface) {

                var link = importDoc.querySelector('#sketchSurfaceImport');
                var template = link.import.querySelector('template');
                var clone = document.importNode(template.content, true);

                var newElement = new SketchSurface();

                SketchSurface.prototype.createdCallback = function () {
                    this.initializeElement(clone.cloneNode(true));
                };

                SketchSurface.prototype.attachedCallback = function () {
                    this.initializeSurface();
                };

                SketchSurface.prototype.detachedCallback = function () {
                    this.finalize();
                };

                document.registerElement('sketch-surface', {
                    prototype: newElement
                });
            });
        });
    })(document.currentScript.ownerDocument);
</script>
</head>
</html>
